<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Basic Address Resolution - Paymail</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="index.html">Overview</a></li><li><a href="01-brfc-specifications.html"><strong aria-hidden="true">1.</strong> BRFC Specifications</a></li><li><ol class="section"><li><a href="01-01-specification-documents.html"><strong aria-hidden="true">1.1.</strong> Specification Documents</a></li><li><a href="01-02-brfc-id-assignment.html"><strong aria-hidden="true">1.2.</strong> BRFC ID Assignment</a></li></ol></li><li><a href="02-service-discovery.html"><strong aria-hidden="true">2.</strong> Service Discovery</a></li><li><ol class="section"><li><a href="02-01-host-discovery.html"><strong aria-hidden="true">2.1.</strong> Host Discovery</a></li><li><a href="02-02-capability-discovery.html"><strong aria-hidden="true">2.2.</strong> Capability Discovery</a></li></ol></li><li><a href="03-public-key-infrastructure.html"><strong aria-hidden="true">3.</strong> Public Key Infrastructure</a></li><li><a href="04-payment-addressing.html"><strong aria-hidden="true">4.</strong> Payment Addressing</a></li><li><ol class="section"><li><a href="04-01-basic-address-resolution.html" class="active"><strong aria-hidden="true">4.1.</strong> Basic Address Resolution</a></li><li><a href="04-02-sender-validation.html"><strong aria-hidden="true">4.2.</strong> Sender Validation</a></li><li><a href="04-03-receiver-approvals.html"><strong aria-hidden="true">4.3.</strong> Receiver Approvals</a></li><li><a href="04-04-payto-protocol-prefix.html"><strong aria-hidden="true">4.4.</strong> PayTo Protocol Prefix</a></li></ol></li><li><a href="05-verify-public-key-owner.html"><strong aria-hidden="true">5.</strong> Verify Public Key Owner</a></li><li class="affix"><a href="99-01-recommendations.html">Recommendations</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Paymail</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#basic-address-resolution" id="basic-address-resolution"><h1>Basic Address Resolution</h1></a>
<p><small></p>
<table><thead><tr><th> brfc </th><th> title </th><th> authors </th><th> version </th></tr></thead><tbody>
<tr><td> 759684b1a19a </td><td> bsvalias Payment Addressing (Basic Address Resolution) </td><td> andy (nChain), Ryan X. Charles (Money Button) </td><td> 1 </td></tr>
</tbody></table>
<p></small></p>
<p>Given a <em>sender</em> and a <em>receiver</em>, where the sender knows the receiver's paymail handle <code>&lt;alias&gt;@&lt;domain&gt;.&lt;tld&gt;</code>, the sender can perform Service Discovery against the receiver and request a payment destination from the receiver's paymail service.</p>
<p>The payment destination request endpoint is described in the <code>.well-known/bsvalias</code> configuration file:</p>
<pre><code class="language-json">{
  &quot;bsvalias&quot;: &quot;1.0&quot;,
  &quot;capabilities&quot;: {
    &quot;paymentDestination&quot;: &quot;https://bsvalias.example.org/{alias}@{domain.tld}/payment-destination&quot;,
  }
}

</code></pre>
<p>The template values <code>{alias}</code> and <code>{domain.tld}</code> refer to the components of the receiver's paymail handle <code>&lt;alias&gt;@&lt;domain&gt;.&lt;tld&gt;</code> and must be substituted by the client before issuing a request.</p>
<p>The sender will receive a Bitcoin output script, which should be used in the construction of the payment transaction to the receiver.</p>
<a class="header" href="#flow" id="flow"><h2>Flow</h2></a>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzY5cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0NjhweDtoZWlnaHQ6MzY5cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0NjggMzY5IiB3aWR0aD0iNDY4cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmNsdTZ1NDhzdGhoIiB3aWR0aD0iMzAwJSIgeD0iLTEiIHk9Ii0xIj48ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJibHVyT3V0IiBzdGREZXZpYXRpb249IjIuMCIvPjxmZUNvbG9yTWF0cml4IGluPSJibHVyT3V0IiByZXN1bHQ9ImJsdXJPdXQyIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgLjQgMCIvPjxmZU9mZnNldCBkeD0iNC4wIiBkeT0iNC4wIiBpbj0iYmx1ck91dDIiIHJlc3VsdD0iYmx1ck91dDMiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJibHVyT3V0MyIgbW9kZT0ibm9ybWFsIi8+PC9maWx0ZXI+PC9kZWZzPjxnPjxyZWN0IGZpbGw9IiNGNUY1RjUiIGZpbHRlcj0idXJsKCNmY2x1NnU0OHN0aGgpIiBoZWlnaHQ9IjQyLjEzMjgiIHN0eWxlPSJzdHJva2U6ICNGNUY1RjU7IHN0cm9rZS13aWR0aDogMS4wOyIgd2lkdGg9IjEwIiB4PSIyNy41IiB5PSI2MS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjcuNSIgeDI9IjI3LjUiIHkxPSI2MS4yOTY5IiB5Mj0iMTAzLjQyOTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzNy41IiB4Mj0iMzcuNSIgeTE9IjYxLjI5NjkiIHkyPSIxMDMuNDI5NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjI3LjUiIHgyPSIzNy41IiB5MT0iNjEuMjk2OSIgeTI9IjYxLjI5NjkiLz48cmVjdCBmaWxsPSIjRjVGNUY1IiBmaWx0ZXI9InVybCgjZmNsdTZ1NDhzdGhoKSIgaGVpZ2h0PSIxNjQuNjY0MSIgc3R5bGU9InN0cm9rZTogI0Y1RjVGNTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB3aWR0aD0iMTAiIHg9IjI3LjUiIHk9IjEzMS40Mjk3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjcuNSIgeDI9IjI3LjUiIHkxPSIxMzEuNDI5NyIgeTI9IjI5Ni4wOTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzcuNSIgeDI9IjM3LjUiIHkxPSIxMzEuNDI5NyIgeTI9IjI5Ni4wOTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjcuNSIgeDI9IjM3LjUiIHkxPSIyOTYuMDkzOCIgeTI9IjI5Ni4wOTM4Ii8+PHJlY3QgZmlsbD0iI0Y1RjVGNSIgZmlsdGVyPSJ1cmwoI2ZjbHU2dTQ4c3RoaCkiIGhlaWdodD0iMTEzLjY2NDEiIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgd2lkdGg9IjEwIiB4PSIyNzMuNSIgeT0iMTgyLjQyOTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzMiIgeDI9IjMyIiB5MT0iNTEuMjk2OSIgeTI9IjEwMy40Mjk3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDEuMCw0LjA7IiB4MT0iMzIiIHgyPSIzMiIgeTE9IjEwMy40Mjk3IiB5Mj0iMTMxLjQyOTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzMiIgeDI9IjMyIiB5MT0iMTMxLjQyOTciIHkyPSIzMTQuMjI2NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjI3OCIgeDI9IjI3OCIgeTE9IjUxLjI5NjkiIHkyPSIxMDMuNDI5NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiAxLjAsNC4wOyIgeDE9IjI3OCIgeDI9IjI3OCIgeTE9IjEwMy40Mjk3IiB5Mj0iMTMxLjQyOTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIyNzgiIHgyPSIyNzgiIHkxPSIxMzEuNDI5NyIgeTI9IjMxNC4yMjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzkiIHg9IjEwIiB5PSI0Ny45OTUxIj5DbGllbnQ8L3RleHQ+PHBhdGggZD0iTTEyLDcgTDEyLDMxIE0xMiwxOSBMMjksMTkgIiBmaWxsPSIjRjVGNUY1IiBmaWx0ZXI9InVybCgjZmNsdTZ1NDhzdGhoKSIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAyLjA7Ii8+PGVsbGlwc2UgY3g9IjQxIiBjeT0iMTkiIGZpbGw9IiNGNUY1RjUiIGZpbHRlcj0idXJsKCNmY2x1NnU0OHN0aGgpIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAyLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzkiIHg9IjEwIiB5PSIzMjYuMjIxNyI+Q2xpZW50PC90ZXh0PjxwYXRoIGQ9Ik0xMiwzMzMuNTIzNCBMMTIsMzU3LjUyMzQgTTEyLDM0NS41MjM0IEwyOSwzNDUuNTIzNCAiIGZpbGw9IiNGNUY1RjUiIGZpbHRlcj0idXJsKCNmY2x1NnU0OHN0aGgpIiBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDIuMDsiLz48ZWxsaXBzZSBjeD0iNDEiIGN5PSIzNDUuNTIzNCIgZmlsbD0iI0Y1RjVGNSIgZmlsdGVyPSJ1cmwoI2ZjbHU2dTQ4c3RoaCkiIHJ4PSIxMiIgcnk9IjEyIiBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDIuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDUiIHg9IjIyMyIgeT0iNDcuOTk1MSI+UGF5bWFpbCBTZXJ2aWNlPC90ZXh0PjxlbGxpcHNlIGN4PSIyNzguNSIgY3k9IjE5IiBmaWxsPSIjRjVGNUY1IiBmaWx0ZXI9InVybCgjZmNsdTZ1NDhzdGhoKSIgcng9IjEyIiByeT0iMTIiIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMi4wOyIvPjxwb2x5Z29uIGZpbGw9IiMyRjQwOEUiIHBvaW50cz0iMjc0LjUsNywyODAuNSwyLDI3OC41LDcsMjgwLjUsMTIsMjc0LjUsNyIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSIyMjMiIHk9IjMyNi4yMjE3Ij5QYXltYWlsIFNlcnZpY2U8L3RleHQ+PGVsbGlwc2UgY3g9IjI3OC41IiBjeT0iMzQ1LjUyMzQiIGZpbGw9IiNGNUY1RjUiIGZpbHRlcj0idXJsKCNmY2x1NnU0OHN0aGgpIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAyLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzJGNDA4RSIgcG9pbnRzPSIyNzQuNSwzMzMuNTIzNCwyODAuNSwzMjguNTIzNCwyNzguNSwzMzMuNTIzNCwyODAuNSwzMzguNTIzNCwyNzQuNSwzMzMuNTIzNCIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHJlY3QgZmlsbD0iI0Y1RjVGNSIgZmlsdGVyPSJ1cmwoI2ZjbHU2dTQ4c3RoaCkiIGhlaWdodD0iNDIuMTMyOCIgc3R5bGU9InN0cm9rZTogI0Y1RjVGNTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB3aWR0aD0iMTAiIHg9IjI3LjUiIHk9IjYxLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIyNy41IiB4Mj0iMjcuNSIgeTE9IjYxLjI5NjkiIHkyPSIxMDMuNDI5NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjM3LjUiIHgyPSIzNy41IiB5MT0iNjEuMjk2OSIgeTI9IjEwMy40Mjk3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjcuNSIgeDI9IjM3LjUiIHkxPSI2MS4yOTY5IiB5Mj0iNjEuMjk2OSIvPjxyZWN0IGZpbGw9IiNGNUY1RjUiIGZpbHRlcj0idXJsKCNmY2x1NnU0OHN0aGgpIiBoZWlnaHQ9IjE2NC42NjQxIiBzdHlsZT0ic3Ryb2tlOiAjRjVGNUY1OyBzdHJva2Utd2lkdGg6IDEuMDsiIHdpZHRoPSIxMCIgeD0iMjcuNSIgeT0iMTMxLjQyOTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIyNy41IiB4Mj0iMjcuNSIgeTE9IjEzMS40Mjk3IiB5Mj0iMjk2LjA5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzNy41IiB4Mj0iMzcuNSIgeTE9IjEzMS40Mjk3IiB5Mj0iMjk2LjA5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIyNy41IiB4Mj0iMzcuNSIgeTE9IjI5Ni4wOTM4IiB5Mj0iMjk2LjA5MzgiLz48cmVjdCBmaWxsPSIjRjVGNUY1IiBmaWx0ZXI9InVybCgjZmNsdTZ1NDhzdGhoKSIgaGVpZ2h0PSIxMTMuNjY0MSIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB3aWR0aD0iMTAiIHg9IjI3My41IiB5PSIxODIuNDI5NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiAyLjAsMi4wOyIgeDE9IjM3LjUiIHgyPSI3OS41IiB5MT0iODIuNDI5NyIgeTI9IjgyLjQyOTciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogMi4wLDIuMDsiIHgxPSI3OS41IiB4Mj0iNzkuNSIgeTE9IjgyLjQyOTciIHkyPSI5NS40Mjk3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDIuMCwyLjA7IiB4MT0iMzguNSIgeDI9Ijc5LjUiIHkxPSI5NS40Mjk3IiB5Mj0iOTUuNDI5NyIvPjxwb2x5Z29uIGZpbGw9IiMyRjQwOEUiIHBvaW50cz0iNDguNSw5MS40Mjk3LDM4LjUsOTUuNDI5Nyw0OC41LDk5LjQyOTcsNDQuNSw5NS40Mjk3IiBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMTMiIHg9IjQ0LjUiIHk9Ijc3LjM2MzgiPlNlcnZpY2UgRGlzY292ZXJ5PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMyRjQwOEUiIHBvaW50cz0iMjYxLjUsMTc4LjQyOTcsMjcxLjUsMTgyLjQyOTcsMjYxLjUsMTg2LjQyOTcsMjY1LjUsMTgyLjQyOTciIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjM3LjUiIHgyPSIyNjcuNSIgeTE9IjE4Mi40Mjk3IiB5Mj0iMTgyLjQyOTciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIyMTciIHg9IjQ0LjUiIHk9IjE0Ny40OTY2Ij5QT1NUICZsdDtwYXltZW50IGRlc3RpbmF0aW9uIFVSSSZndDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTkiIHg9IjQ0LjUiIHk9IjE2Mi42Mjk0Ij5hcHBsaWNhdGlvbi9qc29uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijg0IiB4PSI0NC41IiB5PSIxNzcuNzYyMiI+K2NhY2hlIGhpbnRzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjI4My41IiB4Mj0iMzI1LjUiIHkxPSIyMTEuOTYwOSIgeTI9IjIxMS45NjA5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzI1LjUiIHgyPSIzMjUuNSIgeTE9IjIxMS45NjA5IiB5Mj0iMjI0Ljk2MDkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIyODQuNSIgeDI9IjMyNS41IiB5MT0iMjI0Ljk2MDkiIHkyPSIyMjQuOTYwOSIvPjxwb2x5Z29uIGZpbGw9IiMyRjQwOEUiIHBvaW50cz0iMjk0LjUsMjIwLjk2MDksMjg0LjUsMjI0Ljk2MDksMjk0LjUsMjI4Ljk2MDksMjkwLjUsMjI0Ljk2MDkiIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjkwIiB4PSIyOTAuNSIgeT0iMjA2Ljg5NSI+S2V5IGRlcml2YXRpb248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjgzLjUiIHgyPSIzMjUuNSIgeTE9IjI1NC4wOTM4IiB5Mj0iMjU0LjA5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMkY0MDhFOyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzMjUuNSIgeDI9IjMyNS41IiB5MT0iMjU0LjA5MzgiIHkyPSIyNjcuMDkzOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMyRjQwOEU7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjI4NC41IiB4Mj0iMzI1LjUiIHkxPSIyNjcuMDkzOCIgeTI9IjI2Ny4wOTM4Ii8+PHBvbHlnb24gZmlsbD0iIzJGNDA4RSIgcG9pbnRzPSIyOTQuNSwyNjMuMDkzOCwyODQuNSwyNjcuMDkzOCwyOTQuNSwyNzEuMDkzOCwyOTAuNSwyNjcuMDkzOCIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTY2IiB4PSIyOTAuNSIgeT0iMjQ5LjAyNzgiPk91dHB1dCBzY3JpcHQgY29uc3RydWN0aW9uPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMyRjQwOEUiIHBvaW50cz0iNDMuNSwyOTIuMDkzOCwzMy41LDI5Ni4wOTM4LDQzLjUsMzAwLjA5MzgsMzkuNSwyOTYuMDkzOCIgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzJGNDA4RTsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzcuNSIgeDI9IjI3Ny41IiB5MT0iMjk2LjA5MzgiIHkyPSIyOTYuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEzMSIgeD0iNDkuNSIgeT0iMjkxLjE2MDYiPjIwMDsgYXBwbGljYXRpb24vanNvbjwvdGV4dD48IS0tCkBzdGFydHVtbA0Kc2tpbnBhcmFtIHNlcXVlbmNlQm94QmFja2dyb3VuZENvbG9yIFdoaXRlDQpza2lucGFyYW0gc2VxdWVuY2VCb3hCb3JkZXJDb2xvciBTbGF0ZUdyYXkNCnNraW5wYXJhbSBjb2xsZWN0aW9uc0JhY2tncm91bmRDb2xvciBXaGl0ZVNtb2tlDQpza2lucGFyYW0gY29sbGVjdGlvbnNCb3JkZXJDb2xvciAjMmY0MDhlDQpza2lucGFyYW0gc2VxdWVuY2VMaWZlTGluZUJvcmRlckNvbG9yICMyZjQwOGUNCnNraW5wYXJhbSBzZXF1ZW5jZUxpZmVMaW5lQmFja2dyb3VuZENvbG9yIFdoaXRlU21va2UNCnNraW5wYXJhbSBhcnJvd0NvbG9yICMyZjQwOGUNCnNraW5wYXJhbSBwYXJ0aWNpcGFudEJvcmRlckNvbG9yICMyZjQwOGUNCnNraW5wYXJhbSBwYXJ0aWNpcGFudEJhY2tncm91bmRDb2xvciBXaGl0ZVNtb2tlDQpza2lucGFyYW0gYWN0b3JCb3JkZXJDb2xvciAjMmY0MDhlDQpza2lucGFyYW0gYWN0b3JCYWNrZ3JvdW5kQ29sb3IgV2hpdGVTbW9rZQ0Kc2tpbnBhcmFtIGNvbnRyb2xCb3JkZXJDb2xvciAjMmY0MDhlDQpza2lucGFyYW0gY29udHJvbEJhY2tncm91bmRDb2xvciBXaGl0ZVNtb2tlDQpza2lucGFyYW0gZGF0YWJhc2VCb3JkZXJDb2xvciAjMmY0MDhlDQpza2lucGFyYW0gZGF0YWJhc2VCYWNrZ3JvdW5kQ29sb3IgV2hpdGVTbW9rZQ0Kc2tpbnBhcmFtIGVudGl0eUJvcmRlckNvbG9yICMyZjQwOGUNCnNraW5wYXJhbSBlbnRpdHlCYWNrZ3JvdW5kQ29sb3IgV2hpdGVTbW9rZQ0Kc2tpbnBhcmFtIGJvdW5kYXJ5Qm9yZGVyQ29sb3IgIzJmNDA4ZQ0Kc2tpbnBhcmFtIGJvdW5kYXJ5QmFja2dyb3VuZENvbG9yIFdoaXRlU21va2UNCnNraW5wYXJhbSBzZXF1ZW5jZUdyb3VwQm9yZGVyQ29sb3IgIzJmNDA4ZQ0Kc2tpbnBhcmFtIHNlcXVlbmNlR3JvdXBCb2R5QmFja2dyb3VuZENvbG9yIFRyYW5zcGFyZW50DQoNCg0Kc2tpbnBhcmFtIGNsYXNzQmFja2dyb3VuZENvbG9yIFdoaXRlU21va2UNCnNraW5wYXJhbSBjbGFzc0JvcmRlckNvbG9yICMyZjQwOGUNCicgc2tpbnBhcmFtIGNsYXNzQm9yZGVyVGhpY2tuZXNzDQonIHNraW5wYXJhbSBjbGFzc0ZvbnRDb2xvcg0KJyBza2lucGFyYW0gY2xhc3NGb250TmFtZQ0KJyBza2lucGFyYW0gY2xhc3NGb250U2l6ZQ0KJyBza2lucGFyYW0gY2xhc3NGb250U3R5bGUNCnNraW5wYXJhbSBjbGFzc0hlYWRlckJhY2tncm91bmRDb2xvciBXaGl0ZVNtb2tlDQonIHNraW5wYXJhbSBjbGFzc1N0ZXJlb3R5cGVGb250Q29sb3INCicgc2tpbnBhcmFtIGNsYXNzU3RlcmVvdHlwZUZvbnROYW1lDQonIHNraW5wYXJhbSBjbGFzc1N0ZXJlb3R5cGVGb250U2l6ZQ0KJyBza2lucGFyYW0gY2xhc3NTdGVyZW90eXBlRm9udFN0eWxlDQoNCg0KDQoNCidza2lucGFyYW0gaGFuZHdyaXR0ZW4gdHJ1ZQ0KJyBBY3Rpdml0eUJhY2tncm91bmRDb2xvcg0KJyBBY3Rpdml0eUJhckNvbG9yDQonIEFjdGl2aXR5Qm9yZGVyQ29sb3INCicgQWN0aXZpdHlCb3JkZXJUaGlja25lc3MNCicgQWN0aXZpdHlEaWFtb25kQmFja2dyb3VuZENvbG9yDQonIEFjdGl2aXR5RGlhbW9uZEJvcmRlckNvbG9yDQonIEFjdGl2aXR5RGlhbW9uZEZvbnRDb2xvcg0KJyBBY3Rpdml0eURpYW1vbmRGb250TmFtZQ0KJyBBY3Rpdml0eURpYW1vbmRGb250U2l6ZQ0KJyBBY3Rpdml0eURpYW1vbmRGb250U3R5bGUNCicgQWN0aXZpdHlFbmRDb2xvcg0KJyBBY3Rpdml0eUZvbnRDb2xvcg0KJyBBY3Rpdml0eUZvbnROYW1lDQonIEFjdGl2aXR5Rm9udFNpemUNCicgQWN0aXZpdHlGb250U3R5bGUNCicgQWN0aXZpdHlTdGFydENvbG9yDQonIEFjdG9yQmFja2dyb3VuZENvbG9yDQonIEFjdG9yQm9yZGVyQ29sb3INCicgQWN0b3JGb250Q29sb3INCicgQWN0b3JGb250TmFtZQ0KJyBBY3RvckZvbnRTaXplDQonIEFjdG9yRm9udFN0eWxlDQonIEFjdG9yU3RlcmVvdHlwZUZvbnRDb2xvcg0KJyBBY3RvclN0ZXJlb3R5cGVGb250TmFtZQ0KJyBBY3RvclN0ZXJlb3R5cGVGb250U2l6ZQ0KJyBBY3RvclN0ZXJlb3R5cGVGb250U3R5bGUNCicgQWdlbnRCYWNrZ3JvdW5kQ29sb3INCicgQWdlbnRCb3JkZXJDb2xvcg0KJyBBZ2VudEZvbnRDb2xvcg0KJyBBZ2VudEZvbnROYW1lDQonIEFnZW50Rm9udFNpemUNCicgQWdlbnRGb250U3R5bGUNCicgQWdlbnRTdGVyZW90eXBlRm9udENvbG9yDQonIEFnZW50U3RlcmVvdHlwZUZvbnROYW1lDQonIEFnZW50U3RlcmVvdHlwZUZvbnRTaXplDQonIEFnZW50U3RlcmVvdHlwZUZvbnRTdHlsZQ0KJyBBcnJvd0NvbG9yDQonIEFycm93Rm9udENvbG9yDQonIEFycm93Rm9udE5hbWUNCicgQXJyb3dGb250U2l6ZQ0KJyBBcnJvd0ZvbnRTdHlsZQ0KJyBBcnRpZmFjdEJhY2tncm91bmRDb2xvcg0KJyBBcnRpZmFjdEJvcmRlckNvbG9yDQonIEFydGlmYWN0Rm9udENvbG9yDQonIEFydGlmYWN0Rm9udE5hbWUNCicgQXJ0aWZhY3RGb250U2l6ZQ0KJyBBcnRpZmFjdEZvbnRTdHlsZQ0KJyBBcnRpZmFjdFN0ZXJlb3R5cGVGb250Q29sb3INCicgQXJ0aWZhY3RTdGVyZW90eXBlRm9udE5hbWUNCicgQXJ0aWZhY3RTdGVyZW90eXBlRm9udFNpemUNCicgQXJ0aWZhY3RTdGVyZW90eXBlRm9udFN0eWxlDQonIEJhY2tncm91bmRDb2xvcg0KJyBCb3VuZGFyeUJhY2tncm91bmRDb2xvcg0KJyBCb3VuZGFyeUJvcmRlckNvbG9yDQonIEJvdW5kYXJ5Rm9udENvbG9yDQonIEJvdW5kYXJ5Rm9udE5hbWUNCicgQm91bmRhcnlGb250U2l6ZQ0KJyBCb3VuZGFyeUZvbnRTdHlsZQ0KJyBCb3VuZGFyeVN0ZXJlb3R5cGVGb250Q29sb3INCicgQm91bmRhcnlTdGVyZW90eXBlRm9udE5hbWUNCicgQm91bmRhcnlTdGVyZW90eXBlRm9udFNpemUNCicgQm91bmRhcnlTdGVyZW90eXBlRm9udFN0eWxlDQonIENhcHRpb25Gb250Q29sb3INCicgQ2FwdGlvbkZvbnROYW1lDQonIENhcHRpb25Gb250U2l6ZQ0KJyBDYXB0aW9uRm9udFN0eWxlDQonIENpcmNsZWRDaGFyYWN0ZXJGb250Q29sb3INCicgQ2lyY2xlZENoYXJhY3RlckZvbnROYW1lDQonIENpcmNsZWRDaGFyYWN0ZXJGb250U2l6ZQ0KJyBDaXJjbGVkQ2hhcmFjdGVyRm9udFN0eWxlDQonIENpcmNsZWRDaGFyYWN0ZXJSYWRpdXMNCicgQ2xhc3NBdHRyaWJ1dGVGb250Q29sb3INCicgQ2xhc3NBdHRyaWJ1dGVGb250TmFtZQ0KJyBDbGFzc0F0dHJpYnV0ZUZvbnRTaXplDQonIENsYXNzQXR0cmlidXRlRm9udFN0eWxlDQonIENsYXNzQXR0cmlidXRlSWNvblNpemUNCicgQ2xhc3NCYWNrZ3JvdW5kQ29sb3INCicgQ2xhc3NCb3JkZXJDb2xvcg0KJyBDbGFzc0JvcmRlclRoaWNrbmVzcw0KJyBDbGFzc0ZvbnRDb2xvcg0KJyBDbGFzc0ZvbnROYW1lDQonIENsYXNzRm9udFNpemUNCicgQ2xhc3NGb250U3R5bGUNCicgQ2xhc3NIZWFkZXJCYWNrZ3JvdW5kQ29sb3INCicgQ2xhc3NTdGVyZW90eXBlRm9udENvbG9yDQonIENsYXNzU3RlcmVvdHlwZUZvbnROYW1lDQonIENsYXNzU3RlcmVvdHlwZUZvbnRTaXplDQonIENsYXNzU3RlcmVvdHlwZUZvbnRTdHlsZQ0KJyBDbG91ZEJhY2tncm91bmRDb2xvcg0KJyBDbG91ZEJvcmRlckNvbG9yDQonIENsb3VkRm9udENvbG9yDQonIENsb3VkRm9udE5hbWUNCicgQ2xvdWRGb250U2l6ZQ0KJyBDbG91ZEZvbnRTdHlsZQ0KJyBDbG91ZFN0ZXJlb3R5cGVGb250Q29sb3INCicgQ2xvdWRTdGVyZW90eXBlRm9udE5hbWUNCicgQ2xvdWRTdGVyZW90eXBlRm9udFNpemUNCicgQ2xvdWRTdGVyZW90eXBlRm9udFN0eWxlDQonIENvbGxlY3Rpb25zQmFja2dyb3VuZENvbG9yDQonIENvbGxlY3Rpb25zQm9yZGVyQ29sb3INCicgQ29sb3JBcnJvd1NlcGFyYXRpb25TcGFjZQ0KJyBDb21wb25lbnRCYWNrZ3JvdW5kQ29sb3INCicgQ29tcG9uZW50Qm9yZGVyQ29sb3INCicgQ29tcG9uZW50Rm9udENvbG9yDQonIENvbXBvbmVudEZvbnROYW1lDQonIENvbXBvbmVudEZvbnRTaXplDQonIENvbXBvbmVudEZvbnRTdHlsZQ0KJyBDb21wb25lbnRTdGVyZW90eXBlRm9udENvbG9yDQonIENvbXBvbmVudFN0ZXJlb3R5cGVGb250TmFtZQ0KJyBDb21wb25lbnRTdGVyZW90eXBlRm9udFNpemUNCicgQ29tcG9uZW50U3RlcmVvdHlwZUZvbnRTdHlsZQ0KJyBDb21wb25lbnRTdHlsZQ0KJyBDb25kaXRpb25TdHlsZQ0KJyBDb250cm9sQmFja2dyb3VuZENvbG9yDQonIENvbnRyb2xCb3JkZXJDb2xvcg0KJyBDb250cm9sRm9udENvbG9yDQonIENvbnRyb2xGb250TmFtZQ0KJyBDb250cm9sRm9udFNpemUNCicgQ29udHJvbEZvbnRTdHlsZQ0KJyBDb250cm9sU3RlcmVvdHlwZUZvbnRDb2xvcg0KJyBDb250cm9sU3RlcmVvdHlwZUZvbnROYW1lDQonIENvbnRyb2xTdGVyZW90eXBlRm9udFNpemUNCicgQ29udHJvbFN0ZXJlb3R5cGVGb250U3R5bGUNCicgRGF0YWJhc2VCYWNrZ3JvdW5kQ29sb3INCicgRGF0YWJhc2VCb3JkZXJDb2xvcg0KJyBEYXRhYmFzZUZvbnRDb2xvcg0KJyBEYXRhYmFzZUZvbnROYW1lDQonIERhdGFiYXNlRm9udFNpemUNCicgRGF0YWJhc2VGb250U3R5bGUNCicgRGF0YWJhc2VTdGVyZW90eXBlRm9udENvbG9yDQonIERhdGFiYXNlU3RlcmVvdHlwZUZvbnROYW1lDQonIERhdGFiYXNlU3RlcmVvdHlwZUZvbnRTaXplDQonIERhdGFiYXNlU3RlcmVvdHlwZUZvbnRTdHlsZQ0KJyBEZWZhdWx0Rm9udENvbG9yDQonIERlZmF1bHRGb250TmFtZQ0KJyBEZWZhdWx0Rm9udFNpemUNCicgRGVmYXVsdEZvbnRTdHlsZQ0KJyBEZWZhdWx0TW9ub3NwYWNlZEZvbnROYW1lDQonIERlZmF1bHRUZXh0QWxpZ25tZW50DQonIERpYWdyYW1Cb3JkZXJDb2xvcg0KJyBEaWFncmFtQm9yZGVyVGhpY2tuZXNzDQonIERwaQ0KJyBFbnRpdHlCYWNrZ3JvdW5kQ29sb3INCicgRW50aXR5Qm9yZGVyQ29sb3INCicgRW50aXR5Rm9udENvbG9yDQonIEVudGl0eUZvbnROYW1lDQonIEVudGl0eUZvbnRTaXplDQonIEVudGl0eUZvbnRTdHlsZQ0KJyBFbnRpdHlTdGVyZW90eXBlRm9udENvbG9yDQonIEVudGl0eVN0ZXJlb3R5cGVGb250TmFtZQ0KJyBFbnRpdHlTdGVyZW90eXBlRm9udFNpemUNCicgRW50aXR5U3RlcmVvdHlwZUZvbnRTdHlsZQ0KJyBGaWxlQmFja2dyb3VuZENvbG9yDQonIEZpbGVCb3JkZXJDb2xvcg0KJyBGaWxlRm9udENvbG9yDQonIEZpbGVGb250TmFtZQ0KJyBGaWxlRm9udFNpemUNCicgRmlsZUZvbnRTdHlsZQ0KJyBGaWxlU3RlcmVvdHlwZUZvbnRDb2xvcg0KJyBGaWxlU3RlcmVvdHlwZUZvbnROYW1lDQonIEZpbGVTdGVyZW90eXBlRm9udFNpemUNCicgRmlsZVN0ZXJlb3R5cGVGb250U3R5bGUNCicgRm9sZGVyQmFja2dyb3VuZENvbG9yDQonIEZvbGRlckJvcmRlckNvbG9yDQonIEZvbGRlckZvbnRDb2xvcg0KJyBGb2xkZXJGb250TmFtZQ0KJyBGb2xkZXJGb250U2l6ZQ0KJyBGb2xkZXJGb250U3R5bGUNCicgRm9sZGVyU3RlcmVvdHlwZUZvbnRDb2xvcg0KJyBGb2xkZXJTdGVyZW90eXBlRm9udE5hbWUNCicgRm9sZGVyU3RlcmVvdHlwZUZvbnRTaXplDQonIEZvbGRlclN0ZXJlb3R5cGVGb250U3R5bGUNCicgRm9vdGVyRm9udENvbG9yDQonIEZvb3RlckZvbnROYW1lDQonIEZvb3RlckZvbnRTaXplDQonIEZvb3RlckZvbnRTdHlsZQ0KJyBGcmFtZUJhY2tncm91bmRDb2xvcg0KJyBGcmFtZUJvcmRlckNvbG9yDQonIEZyYW1lRm9udENvbG9yDQonIEZyYW1lRm9udE5hbWUNCicgRnJhbWVGb250U2l6ZQ0KJyBGcmFtZUZvbnRTdHlsZQ0KJyBGcmFtZVN0ZXJlb3R5cGVGb250Q29sb3INCicgRnJhbWVTdGVyZW90eXBlRm9udE5hbWUNCicgRnJhbWVTdGVyZW90eXBlRm9udFNpemUNCicgRnJhbWVTdGVyZW90eXBlRm9udFN0eWxlDQonIEd1aWxsZW1ldA0KJyBIYW5kd3JpdHRlbg0KJyBIZWFkZXJGb250Q29sb3INCicgSGVhZGVyRm9udE5hbWUNCicgSGVhZGVyRm9udFNpemUNCicgSGVhZGVyRm9udFN0eWxlDQonIEh5cGVybGlua0NvbG9yDQonIEh5cGVybGlua1VuZGVybGluZQ0KJyBJY29uSUVNYW5kYXRvcnlDb2xvcg0KJyBJY29uUGFja2FnZUJhY2tncm91bmRDb2xvcg0KJyBJY29uUGFja2FnZUNvbG9yDQonIEljb25Qcml2YXRlQmFja2dyb3VuZENvbG9yDQonIEljb25Qcml2YXRlQ29sb3INCicgSWNvblByb3RlY3RlZEJhY2tncm91bmRDb2xvcg0KJyBJY29uUHJvdGVjdGVkQ29sb3INCicgSWNvblB1YmxpY0JhY2tncm91bmRDb2xvcg0KJyBJY29uUHVibGljQ29sb3INCicgSW50ZXJmYWNlQmFja2dyb3VuZENvbG9yDQonIEludGVyZmFjZUJvcmRlckNvbG9yDQonIEludGVyZmFjZUZvbnRDb2xvcg0KJyBJbnRlcmZhY2VGb250TmFtZQ0KJyBJbnRlcmZhY2VGb250U2l6ZQ0KJyBJbnRlcmZhY2VGb250U3R5bGUNCicgSW50ZXJmYWNlU3RlcmVvdHlwZUZvbnRDb2xvcg0KJyBJbnRlcmZhY2VTdGVyZW90eXBlRm9udE5hbWUNCicgSW50ZXJmYWNlU3RlcmVvdHlwZUZvbnRTaXplDQonIEludGVyZmFjZVN0ZXJlb3R5cGVGb250U3R5bGUNCicgTGVnZW5kQmFja2dyb3VuZENvbG9yDQonIExlZ2VuZEJvcmRlckNvbG9yDQonIExlZ2VuZEJvcmRlclRoaWNrbmVzcw0KJyBMZWdlbmRGb250Q29sb3INCicgTGVnZW5kRm9udE5hbWUNCicgTGVnZW5kRm9udFNpemUNCicgTGVnZW5kRm9udFN0eWxlDQonIExpbmV0eXBlDQonIE1heEFzY2lpTWVzc2FnZUxlbmd0aA0KJyBNYXhNZXNzYWdlU2l6ZQ0KJyBNaW5DbGFzc1dpZHRoDQonIE1vbm9jaHJvbWUNCicgTm9kZUJhY2tncm91bmRDb2xvcg0KJyBOb2RlQm9yZGVyQ29sb3INCicgTm9kZUZvbnRDb2xvcg0KJyBOb2RlRm9udE5hbWUNCicgTm9kZUZvbnRTaXplDQonIE5vZGVGb250U3R5bGUNCicgTm9kZVN0ZXJlb3R5cGVGb250Q29sb3INCicgTm9kZVN0ZXJlb3R5cGVGb250TmFtZQ0KJyBOb2RlU3RlcmVvdHlwZUZvbnRTaXplDQonIE5vZGVTdGVyZW90eXBlRm9udFN0eWxlDQonIE5vZGVzZXANCicgTm90ZUJhY2tncm91bmRDb2xvcg0KJyBOb3RlQm9yZGVyQ29sb3INCicgTm90ZUJvcmRlclRoaWNrbmVzcw0KJyBOb3RlRm9udENvbG9yDQonIE5vdGVGb250TmFtZQ0KJyBOb3RlRm9udFNpemUNCicgTm90ZUZvbnRTdHlsZQ0KJyBOb3RlU2hhZG93aW5nDQonIE9iamVjdEF0dHJpYnV0ZUZvbnRDb2xvcg0KJyBPYmplY3RBdHRyaWJ1dGVGb250TmFtZQ0KJyBPYmplY3RBdHRyaWJ1dGVGb250U2l6ZQ0KJyBPYmplY3RBdHRyaWJ1dGVGb250U3R5bGUNCicgT2JqZWN0QmFja2dyb3VuZENvbG9yDQonIE9iamVjdEJvcmRlckNvbG9yDQonIE9iamVjdEJvcmRlclRoaWNrbmVzcw0KJyBPYmplY3RGb250Q29sb3INCicgT2JqZWN0Rm9udE5hbWUNCicgT2JqZWN0Rm9udFNpemUNCicgT2JqZWN0Rm9udFN0eWxlDQonIE9iamVjdFN0ZXJlb3R5cGVGb250Q29sb3INCicgT2JqZWN0U3RlcmVvdHlwZUZvbnROYW1lDQonIE9iamVjdFN0ZXJlb3R5cGVGb250U2l6ZQ0KJyBPYmplY3RTdGVyZW90eXBlRm9udFN0eWxlDQonIFBhY2thZ2VCYWNrZ3JvdW5kQ29sb3INCicgUGFja2FnZUJvcmRlckNvbG9yDQonIFBhY2thZ2VCb3JkZXJUaGlja25lc3MNCicgUGFja2FnZUZvbnRDb2xvcg0KJyBQYWNrYWdlRm9udE5hbWUNCicgUGFja2FnZUZvbnRTaXplDQonIFBhY2thZ2VGb250U3R5bGUNCicgUGFja2FnZVN0ZXJlb3R5cGVGb250Q29sb3INCicgUGFja2FnZVN0ZXJlb3R5cGVGb250TmFtZQ0KJyBQYWNrYWdlU3RlcmVvdHlwZUZvbnRTaXplDQonIFBhY2thZ2VTdGVyZW90eXBlRm9udFN0eWxlDQonIFBhY2thZ2VTdHlsZQ0KJyBQYWRkaW5nDQonIFBhcnRpY2lwYW50QmFja2dyb3VuZENvbG9yDQonIFBhcnRpY2lwYW50Qm9yZGVyQ29sb3INCicgUGFydGljaXBhbnRGb250Q29sb3INCicgUGFydGljaXBhbnRGb250TmFtZQ0KJyBQYXJ0aWNpcGFudEZvbnRTaXplDQonIFBhcnRpY2lwYW50Rm9udFN0eWxlDQonIFBhcnRpdGlvbkJhY2tncm91bmRDb2xvcg0KJyBQYXJ0aXRpb25Cb3JkZXJDb2xvcg0KJyBQYXJ0aXRpb25Cb3JkZXJUaGlja25lc3MNCicgUGFydGl0aW9uRm9udENvbG9yDQonIFBhcnRpdGlvbkZvbnROYW1lDQonIFBhcnRpdGlvbkZvbnRTaXplDQonIFBhcnRpdGlvbkZvbnRTdHlsZQ0KJyBRdWV1ZUJhY2tncm91bmRDb2xvcg0KJyBRdWV1ZUJvcmRlckNvbG9yDQonIFF1ZXVlRm9udENvbG9yDQonIFF1ZXVlRm9udE5hbWUNCicgUXVldWVGb250U2l6ZQ0KJyBRdWV1ZUZvbnRTdHlsZQ0KJyBRdWV1ZVN0ZXJlb3R5cGVGb250Q29sb3INCicgUXVldWVTdGVyZW90eXBlRm9udE5hbWUNCicgUXVldWVTdGVyZW90eXBlRm9udFNpemUNCicgUXVldWVTdGVyZW90eXBlRm9udFN0eWxlDQonIFJhbmtzZXANCicgUmVjdGFuZ2xlQmFja2dyb3VuZENvbG9yDQonIFJlY3RhbmdsZUJvcmRlckNvbG9yDQonIFJlY3RhbmdsZUJvcmRlclRoaWNrbmVzcw0KJyBSZWN0YW5nbGVGb250Q29sb3INCicgUmVjdGFuZ2xlRm9udE5hbWUNCicgUmVjdGFuZ2xlRm9udFNpemUNCicgUmVjdGFuZ2xlRm9udFN0eWxlDQonIFJlY3RhbmdsZVN0ZXJlb3R5cGVGb250Q29sb3INCicgUmVjdGFuZ2xlU3RlcmVvdHlwZUZvbnROYW1lDQonIFJlY3RhbmdsZVN0ZXJlb3R5cGVGb250U2l6ZQ0KJyBSZWN0YW5nbGVTdGVyZW90eXBlRm9udFN0eWxlDQonIFJvdW5kQ29ybmVyDQonIFNhbWVDbGFzc1dpZHRoDQonIFNlcXVlbmNlQWN0b3JCb3JkZXJUaGlja25lc3MNCicgU2VxdWVuY2VBcnJvd1RoaWNrbmVzcw0KJyBTZXF1ZW5jZUJveEJhY2tncm91bmRDb2xvcg0KJyBTZXF1ZW5jZUJveEJvcmRlckNvbG9yDQonIFNlcXVlbmNlQm94Rm9udENvbG9yDQonIFNlcXVlbmNlQm94Rm9udE5hbWUNCicgU2VxdWVuY2VCb3hGb250U2l6ZQ0KJyBTZXF1ZW5jZUJveEZvbnRTdHlsZQ0KJyBTZXF1ZW5jZURlbGF5Rm9udENvbG9yDQonIFNlcXVlbmNlRGVsYXlGb250TmFtZQ0KJyBTZXF1ZW5jZURlbGF5Rm9udFNpemUNCicgU2VxdWVuY2VEZWxheUZvbnRTdHlsZQ0KJyBTZXF1ZW5jZURpdmlkZXJCYWNrZ3JvdW5kQ29sb3INCicgU2VxdWVuY2VEaXZpZGVyQm9yZGVyQ29sb3INCicgU2VxdWVuY2VEaXZpZGVyQm9yZGVyVGhpY2tuZXNzDQonIFNlcXVlbmNlRGl2aWRlckZvbnRDb2xvcg0KJyBTZXF1ZW5jZURpdmlkZXJGb250TmFtZQ0KJyBTZXF1ZW5jZURpdmlkZXJGb250U2l6ZQ0KJyBTZXF1ZW5jZURpdmlkZXJGb250U3R5bGUNCicgU2VxdWVuY2VHcm91cEJhY2tncm91bmRDb2xvcg0KJyBTZXF1ZW5jZUdyb3VwQm9keUJhY2tncm91bmRDb2xvcg0KJyBTZXF1ZW5jZUdyb3VwQm9yZGVyQ29sb3INCicgU2VxdWVuY2VHcm91cEJvcmRlclRoaWNrbmVzcw0KJyBTZXF1ZW5jZUdyb3VwRm9udENvbG9yDQonIFNlcXVlbmNlR3JvdXBGb250TmFtZQ0KJyBTZXF1ZW5jZUdyb3VwRm9udFNpemUNCicgU2VxdWVuY2VHcm91cEZvbnRTdHlsZQ0KJyBTZXF1ZW5jZUdyb3VwSGVhZGVyRm9udENvbG9yDQonIFNlcXVlbmNlR3JvdXBIZWFkZXJGb250TmFtZQ0KJyBTZXF1ZW5jZUdyb3VwSGVhZGVyRm9udFNpemUNCicgU2VxdWVuY2VHcm91cEhlYWRlckZvbnRTdHlsZQ0KJyBTZXF1ZW5jZUxpZmVMaW5lQmFja2dyb3VuZENvbG9yDQonIFNlcXVlbmNlTGlmZUxpbmVCb3JkZXJDb2xvcg0KJyBTZXF1ZW5jZUxpZmVMaW5lQm9yZGVyVGhpY2tuZXNzDQonIFNlcXVlbmNlTmV3cGFnZVNlcGFyYXRvckNvbG9yDQonIFNlcXVlbmNlUGFydGljaXBhbnQNCicgU2VxdWVuY2VQYXJ0aWNpcGFudEJvcmRlclRoaWNrbmVzcw0KJyBTZXF1ZW5jZVJlZmVyZW5jZUJhY2tncm91bmRDb2xvcg0KJyBTZXF1ZW5jZVJlZmVyZW5jZUJvcmRlckNvbG9yDQonIFNlcXVlbmNlUmVmZXJlbmNlQm9yZGVyVGhpY2tuZXNzDQonIFNlcXVlbmNlUmVmZXJlbmNlRm9udENvbG9yDQonIFNlcXVlbmNlUmVmZXJlbmNlRm9udE5hbWUNCicgU2VxdWVuY2VSZWZlcmVuY2VGb250U2l6ZQ0KJyBTZXF1ZW5jZVJlZmVyZW5jZUZvbnRTdHlsZQ0KJyBTZXF1ZW5jZVJlZmVyZW5jZUhlYWRlckJhY2tncm91bmRDb2xvcg0KJyBTZXF1ZW5jZVN0ZXJlb3R5cGVGb250Q29sb3INCicgU2VxdWVuY2VTdGVyZW90eXBlRm9udE5hbWUNCicgU2VxdWVuY2VTdGVyZW90eXBlRm9udFNpemUNCicgU2VxdWVuY2VTdGVyZW90eXBlRm9udFN0eWxlDQonIFNlcXVlbmNlVGl0bGVGb250Q29sb3INCicgU2VxdWVuY2VUaXRsZUZvbnROYW1lDQonIFNlcXVlbmNlVGl0bGVGb250U2l6ZQ0KJyBTZXF1ZW5jZVRpdGxlRm9udFN0eWxlDQonIFNoYWRvd2luZw0KJyBTdGFja0JhY2tncm91bmRDb2xvcg0KJyBTdGFja0JvcmRlckNvbG9yDQonIFN0YWNrRm9udENvbG9yDQonIFN0YWNrRm9udE5hbWUNCicgU3RhY2tGb250U2l6ZQ0KJyBTdGFja0ZvbnRTdHlsZQ0KJyBTdGFja1N0ZXJlb3R5cGVGb250Q29sb3INCicgU3RhY2tTdGVyZW90eXBlRm9udE5hbWUNCicgU3RhY2tTdGVyZW90eXBlRm9udFNpemUNCicgU3RhY2tTdGVyZW90eXBlRm9udFN0eWxlDQonIFN0YXRlQXR0cmlidXRlRm9udENvbG9yDQonIFN0YXRlQXR0cmlidXRlRm9udE5hbWUNCicgU3RhdGVBdHRyaWJ1dGVGb250U2l6ZQ0KJyBTdGF0ZUF0dHJpYnV0ZUZvbnRTdHlsZQ0KJyBTdGF0ZUJhY2tncm91bmRDb2xvcg0KJyBTdGF0ZUJvcmRlckNvbG9yDQonIFN0YXRlRW5kQ29sb3INCicgU3RhdGVGb250Q29sb3INCicgU3RhdGVGb250TmFtZQ0KJyBTdGF0ZUZvbnRTaXplDQonIFN0YXRlRm9udFN0eWxlDQonIFN0YXRlU3RhcnRDb2xvcg0KJyBTdGVyZW90eXBlQUJhY2tncm91bmRDb2xvcg0KJyBTdGVyZW90eXBlQ0JhY2tncm91bmRDb2xvcg0KJyBTdGVyZW90eXBlRUJhY2tncm91bmRDb2xvcg0KJyBTdGVyZW90eXBlSUJhY2tncm91bmRDb2xvcg0KJyBTdGVyZW90eXBlTkJhY2tncm91bmRDb2xvcg0KJyBTdGVyZW90eXBlUG9zaXRpb24NCicgU3RvcmFnZUJhY2tncm91bmRDb2xvcg0KJyBTdG9yYWdlQm9yZGVyQ29sb3INCicgU3RvcmFnZUZvbnRDb2xvcg0KJyBTdG9yYWdlRm9udE5hbWUNCicgU3RvcmFnZUZvbnRTaXplDQonIFN0b3JhZ2VGb250U3R5bGUNCicgU3RvcmFnZVN0ZXJlb3R5cGVGb250Q29sb3INCicgU3RvcmFnZVN0ZXJlb3R5cGVGb250TmFtZQ0KJyBTdG9yYWdlU3RlcmVvdHlwZUZvbnRTaXplDQonIFN0b3JhZ2VTdGVyZW90eXBlRm9udFN0eWxlDQonIFN0eWxlDQonIFN2Z2xpbmtUYXJnZXQNCicgU3dpbWxhbmVCb3JkZXJDb2xvcg0KJyBTd2ltbGFuZUJvcmRlclRoaWNrbmVzcw0KJyBTd2ltbGFuZVRpdGxlRm9udENvbG9yDQonIFN3aW1sYW5lVGl0bGVGb250TmFtZQ0KJyBTd2ltbGFuZVRpdGxlRm9udFNpemUNCicgU3dpbWxhbmVUaXRsZUZvbnRTdHlsZQ0KJyBUYWJTaXplDQonIFRpdGxlQmFja2dyb3VuZENvbG9yDQonIFRpdGxlQm9yZGVyQ29sb3INCicgVGl0bGVCb3JkZXJSb3VuZENvcm5lcg0KJyBUaXRsZUJvcmRlclRoaWNrbmVzcw0KJyBUaXRsZUZvbnRDb2xvcg0KJyBUaXRsZUZvbnROYW1lDQonIFRpdGxlRm9udFNpemUNCicgVGl0bGVGb250U3R5bGUNCicgVXNlY2FzZUJhY2tncm91bmRDb2xvcg0KJyBVc2VjYXNlQm9yZGVyQ29sb3INCicgVXNlY2FzZUJvcmRlclRoaWNrbmVzcw0KJyBVc2VjYXNlRm9udENvbG9yDQonIFVzZWNhc2VGb250TmFtZQ0KJyBVc2VjYXNlRm9udFNpemUNCicgVXNlY2FzZUZvbnRTdHlsZQ0KJyBVc2VjYXNlU3RlcmVvdHlwZUZvbnRDb2xvcg0KJyBVc2VjYXNlU3RlcmVvdHlwZUZvbnROYW1lDQonIFVzZWNhc2VTdGVyZW90eXBlRm9udFNpemUNCicgVXNlY2FzZVN0ZXJlb3R5cGVGb250U3R5bGUNCmJvdW5kYXJ5ICJDbGllbnQiIGFzIGMNCmNvbnRyb2wgIlBheW1haWwgU2VydmljZSIgYXMgc3ZjDQoNCmFjdGl2YXRlIGMNCiAgYyAtIC0+IGM6IFNlcnZpY2UgRGlzY292ZXJ5DQogIC4uLg0KICBjIC0+IHN2YzogUE9TVCA8cGF5bWVudCBkZXN0aW5hdGlvbiBVUkk+XG5hcHBsaWNhdGlvbi9qc29uXG4rY2FjaGUgaGludHMNCiAgYWN0aXZhdGUgc3ZjDQogICAgc3ZjIC0+IHN2YzogS2V5IGRlcml2YXRpb24NCiAgICBzdmMgLT4gc3ZjOiBPdXRwdXQgc2NyaXB0IGNvbnN0cnVjdGlvbg0KICAgIHN2YyAtPiBjOiAyMDA7IGFwcGxpY2F0aW9uL2pzb24NCiAgZGVhY3RpdmF0ZSBzdmMNCmRlYWN0aXZhdGUgYw0KDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMTcuMTUoTW9uIEp1bCAwMyAxMzo0NTozNCBBUlQgMjAxNykKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IE9wZW5KREsgUnVudGltZSBFbnZpcm9ubWVudApKVk06IE9wZW5KREsgNjQtQml0IFNlcnZlciBWTQpKYXZhIFZlcnNpb246IDExLjAuMys3LVVidW50dS0xdWJ1bnR1MjE4LjA0LjEKT3BlcmF0aW5nIFN5c3RlbTogTGludXgKT1MgVmVyc2lvbjogNC4xOC4wLTIwLWdlbmVyaWMKRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4=" alt="plantuml" /></p>
<a class="header" href="#sender-request" id="sender-request"><h2>Sender Request</h2></a>
<p>The <code>capabilities.pki</code> path returns a URI template. Senders should replace the <code>{alias}</code> and <code>{domain.tld}</code> template parameters with the values from the receiver's paymail handle and then make an HTTP POST request against this URI.</p>
<p>The body of the POST request <em>MUST</em> have a content type of <code>application/json</code> and <em>MUST</em> conform to the following schema:</p>
<pre><code class="language-json">{
    &quot;senderName&quot;: &quot;FirstName LastName&quot;,
    &quot;senderHandle&quot;: &quot;&lt;alias&gt;@&lt;domain.tld&gt;&quot;,
    &quot;dt&quot;: &quot;&lt;ISO-8601 timestamp&gt;&quot;,
    &quot;amount&quot;: 550,
    &quot;purpose&quot;: &quot;message to receiver&quot;,
    &quot;signature&quot;: &quot;&lt;compact Bitcoin message signature&gt;&quot;
}

</code></pre>
<table><thead><tr><th> Field         </th><th> Required </th><th> Description                                                              </th></tr></thead><tbody>
<tr><td> <code>senderName</code>   </td><td>          </td><td> Human-readable sender display name                                        </td></tr>
<tr><td> <code>senderHandle</code> </td><td> ✓        </td><td> sender's paymail handle                                                   </td></tr>
<tr><td> <code>dt</code>          </td><td> ✓        </td><td> <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> formatted timestamp; see notes                             </td></tr>
<tr><td> <code>amount</code>      </td><td>          </td><td> The amount, in Satoshis, that the sender intends to transfer to the receiver </td></tr>
<tr><td> <code>purpose</code>     </td><td>          </td><td> Human-readable description of the purpose of the payment                 </td></tr>
<tr><td> <code>signature</code>   </td><td>          </td><td> Compact Bitcoin message signature; see notes                             </td></tr>
</tbody></table>
<a class="header" href="#timestamp-field-dt" id="timestamp-field-dt"><h3>Timestamp field (dt)</h3></a>
<p>The timestamp field should contain the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> formatted current time at the point the receiver initiates a payment destination request. From JavaScript this can be constructed using <code>JSON.stringify()</code>:</p>
<pre><code class="language-js">let now = JSON.stringify({'now': new Date()});

</code></pre>
<p>Which yields:</p>
<pre><code class="language-json">{
  &quot;now&quot;: &quot;2013-10-21T13:28:06.419Z&quot;
}

</code></pre>
<a class="header" href="#signature-field" id="signature-field"><h3>Signature field</h3></a>
<p>The Bitcoin client has long offered the ability to sign messages and verify message signatures. The Bitcoin functionality is essentially an implementation of standard ECDSA, however along with the (<em>r</em>, <em>s</em>) signature pair there is additional information to allow the Bitcoin client to verify a message signature against a P2PKH <em>address</em> (a hash of a public key) rather than directly against a public key.</p>
<p>In the original draft of this specification, the signature was the raw (<em>r</em>, <em>s</em>) fields, computed over a double-SHA256 hash of the message. However in order to leverage existing Bitcoin client libraries, such as MoneyButton's <a href="https://github.com/moneybutton/bsv">BSV library</a>, it has been decided instead to follow the Bitcoin client's signing and verification protocol.</p>
<p>The MoneyButton BSV library's implementation is nominated as the standard message digest construction and signature encoding method for signatures included in payment destination requests. <a href="https://github.com/moneybutton/bsv/blob/master/docs/examples.md#sign-a-bitcoin-message">Usage</a> and <a href="https://github.com/moneybutton/bsv/blob/786ebe54e60eecc84074e4574eef11b125ea95e3/lib/message/message.js">reference</a> <a href="https://github.com/moneybutton/bsv/blob/8c63608490954627a868d0d21b2f43b60e1dd3e7/lib/crypto/signature.js">implementation</a> are available from GitHub.</p>
<p>The message to be signed begins with the Bitcoin signature scheme's traditional preamble (as documented within the BSV library's source code) and is followed by the UTF8 string concatenation of <code>senderHandle</code>, <code>dt</code>, <code>amount</code> and <code>purpose</code> fields.</p>
<ul>
<li>If <code>amount</code> is present, it is converted to a string (with no leading zeros)</li>
<li>If <code>amount</code> is not present, the string <code>&quot;0&quot;</code> is used</li>
<li>If purpose is not present, an empty string <code>&quot;&quot;</code> is used (effectively purpose is not included in the message)</li>
</ul>
<a class="header" href="#receiver-response" id="receiver-response"><h2>Receiver Response</h2></a>
<p>Below are the responses that have meaning to this protocol. A server may return other status codes, for example <code>5xx</code> indicating some sort of server failure. Clients should treat status codes not specified as part of this specification as some sort of transient error and may retry at their leisure.</p>
<a class="header" href="#200-ok" id="200-ok"><h3>200 OK</h3></a>
<p>Returned when a valid request for a known paymail handle has been received. The return message <em>MUST</em> have a content type of <code>application/json</code>. The response body <em>MUST</em> conform to the following schema:</p>
<pre><code class="language-json">{
  &quot;output&quot;: &quot;...&quot;
}

</code></pre>
<p>The value of the <code>output</code> field <em>MUST</em> be a hex-encoded Bitcoin script, which the sender <em>MUST</em> use during the construction of a payment transaction.</p>
<blockquote>
<p>It is beyond the scope of this specification to describe the various possible types of output script, however it is expected that paymail services will implement at a minimum P2PKH output scripts.</p>
<p>Wallet implementers have expressed a desire to standardise their approach to key management within paymail implementations; this desire extends beyond the scope of paymail and covers cross-wallet key and seed import/recovery processes.</p>
<p>It is suggested that wallet implementers agree upon a mechanism for generating P2PKH output scripts, and create a BRFC to describe that scheme. Such a scheme is advised to avoid address re-use (that is, each P2PKH script includes the hash of the public key of a newly created key pair) and that existing mechanisms such as Type 2 HD Wallet key derivation be used. One advantage to this suggestion is that paymail services can be implemented such that they derive new keys from only an <code>xpub</code>. In this way, neither the wallet seed nor any private keys are held by the paymail service implementation.</p>
</blockquote>
<p>To illustrate a typical <code>output</code> field value, a standard P2PKH output script is constructed and encoded below.</p>
<p>Given a key pair with the public key <code>027c1404c3ecb034053e6dd90bc68f7933284559c7d0763367584195a8796d9b0e</code>, a P2PKH output script for the same would be hex-encoded as:</p>
<pre><code>76a9140806efc8bedc8afb37bf484f352e6f79bff1458c88ac

</code></pre>
<p>This can be broken down as follows:</p>
<pre><code>76          ;OP_DUP
a9          ;OP_HASH160
14          ;Push the next 20 bytes on to the stack
08 06 ef c8 ;ripemd160(sha256(compressed_public_key))
be dc 8a fb
37 bf 48 4f
35 2e 6f 79 
bf f1 45 8c
88          ;OP_EQUALVERIFY
ac          ;OP_CHECKSIG

</code></pre>
<p>The service response body would be:</p>
<pre><code class="language-json">{
  &quot;output&quot;: &quot;76a9140806efc8bedc8afb37bf484f352e6f79bff1458c88ac&quot;
}

</code></pre>
<a class="header" href="#404-not-found" id="404-not-found"><h3>404 Not Found</h3></a>
<p>The paymail handle was not found by this service.</p>
<a class="header" href="#extensions-to-this-specification" id="extensions-to-this-specification"><h2>Extensions to this Specification</h2></a>
<ul>
<li><a href="./04-02-sender-validation.html">Sender Validation</a> which performs a reverse PKI lookup on the sender then verifies the message signature</li>
<li><a href="./04-03-receiver-approvals.html">Receiver Approvals</a> extends the payment destination process with asynchronous approvals by the receiver before yielding a payment destination script</li>
</ul>
<p>Copyright 2019 nChain and Money Button</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="04-payment-addressing.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="04-02-sender-validation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="04-payment-addressing.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="04-02-sender-validation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
